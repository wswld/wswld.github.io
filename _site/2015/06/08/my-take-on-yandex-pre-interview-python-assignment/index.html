<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      My Take on Yandex Pre-interview Python Assignment &middot; וסוולוד
    
  </title>

  <link rel="stylesheet" href="/styles.css">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="וסוולוד" href="/atom.xml">
</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">וסוולוד</a>
        </h3>
        <div class="subtitle"><small>Running behind the schedule since 1989.</small></div>
      </header>


      <main>
        <article class="post">
  <h1 class="post-title">My Take on Yandex Pre-interview Python Assignment</h1>
  <time datetime="2015-06-08T14:19:12+03:00" class="post-date">08 Jun 2015</time>
  <p>I've applied for a junior Python position at Russian internet giant Yandex (very similar to Google). And although my application has been rejected, due to lack of experience, I think their little pre-interview test and my take on that may be of interest to any inquisitive pythonista. Note, that this has never been properly translated into English before, so this is probably exclusive in that regard.</p>
<h3>Assignment I</h3>
<p>There are two lists of different length. The first one contains keys, the second - values. Write a function, that would create a dict out of these lists. If the key doesn't have a value - it should equal <tt>None</tt>, if the value doesn't have a key, it should be omitted.</p>
<p>[code language="python"]<br />
def get_dict(list1, list2):<br />
    ret = dict(map(None, list1, list2))<br />
    if ret.get(None, False):<br />
        ret.__delitem__(None)<br />
    return ret<br />
[/code]</p>
<h3>Assignment II</h3>
<p>Login should start with latin symbol, contain latin symbols, digits, dots and hyphens, but end only with a latin symbol or a digit. Minimum length is 1 symbol, maximum - 20 symbols. Write a function that checks strings for correspondence with these rules. Think of several methods of solving this problem and compare them.</p>
<p>[code language="python"]<br />
import re<br />
import time</p>
<p>def check1(login):<br />
    ret = False<br />
    if re.match('^[a-zA-Z][a-zA-Z0-9\-\.]{0,19}(?&lt;![\-\.])$', login):<br />
        ret = True<br />
    return ret</p>
<p>def check2(login):<br />
    ret = False<br />
    if (len(login) &gt;= 1 or len(login) &lt;= 20) and login[0].isalpha() and (login[-1].isalpha() or login[-1].isdigit()):<br />
        for a in login[1:-1]:<br />
            if a.isalpha() or a.isdigit() or a == '-' or a == '.':<br />
                ret = True<br />
    return ret</p>
<p>def compare(login):<br />
    tm = time.time()<br />
    check1(login)<br />
    print(time.time() - tm)<br />
    tm = time.time()<br />
    check2(login)<br />
    print(time.time() - tm)<br />
[/code]</p>
<h3>Assignment III</h3>
<p>There are two tables <tt>users</tt> and <tt>messages</tt> (I changed names and messages to non-Cyrillic):</p>
<table>
<caption>users</caption>
<tr>
<td>UID</td>
<td>name</td>
</tr>
<tr>
<td>1</td>
<td>John Doe</td>
</tr>
<tr>
<td>2</td>
<td>Natalie Knaph</td>
</tr>
<tr>
<td>3</td>
<td>Johnatan Yozo</td>
</tr>
</table>
<table>
<caption>messages</caption>
<tr>
<td>UID</td>
<td>msg</td>
</tr>
<tr>
<td>1</td>
<td>Hello, John!</td>
</tr>
<tr>
<td>3</td>
<td>Send me the card, quickly.</td>
</tr>
<tr>
<td>3</td>
<td>I'm waiting on the corner of 5th and Lafayette</td>
</tr>
<tr>
<td>1</td>
<td>This is me again. Please message me more often.</td>
</tr>
</table>
<p>Create a SQL query, that would return two fields: "User name" and "Total amount of messages".</p>
<p>[code language="sql"]<br />
SELECT users.name AS &quot;User name&quot;,count(*) AS &quot;Total amount of messages&quot;<br />
FROM users<br />
JOIN messages ON users.uid = messages.uid<br />
GROUP BY users.uid<br />
[/code]</p>
<h3>Assignment IV</h3>
<p>Suppose you have a generic <tt>access.log</tt>. How to get 10 most frequent IP-addresses using standard terminal tools? How to do that with Python?</p>
<p>[code language="python"]<br />
# BASH:<br />
grep -o '[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}' access.log | sort -n | uniq -c | sort -n -r | head -10</p>
<p># PYTHON:<br />
import sys<br />
import re</p>
<p>all = re.findall(&quot;[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}&quot;, open(sys.argv[1], 'r').read())<br />
srt = sorted(all, key=all.count, reverse=True)<br />
unq = []<br />
for m in srt:<br />
    if not m in unq:<br />
        unq.append(m)<br />
print unq[0:10]<br />
[/code]</p>
<p>If you can think of a better way to solve any of these, let me know.</p>

</article>


<aside class="related">
  <h3>Related posts</h3>
  <ul class="related-posts">
    
      <li>
        <a href="/2017/06/01/limitations-of-beeminder-model/">
          Limitations of the Beeminder Model
          <small><time datetime="2017-06-01T00:00:00+03:00">01 Jun 2017</time></small>
        </a>
      </li>
    
      <li>
        <a href="/2017/03/06/aspiring-photographers-are-quitting-instagram-en-masse-and-heres-why/">
          Aspiring Photographers are Quitting Instagram en Masse and Here's Why
          <small><time datetime="2017-03-06T00:00:00+03:00">06 Mar 2017</time></small>
        </a>
      </li>
    
      <li>
        <a href="/2016/10/07/til-mongo-sucks/">
          TIL: Mongo Sucks
          <small><time datetime="2016-10-07T16:19:06+03:00">07 Oct 2016</time></small>
        </a>
      </li>
    
  </ul>
</aside>


      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2017-12-25T19:44:50+03:00">2017</time>. All rights reserved.
        </small>
      </footer>
    </div>

    
  </body>
</html>
